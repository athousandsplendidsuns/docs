<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>阿里云ECS | Damo</title>
    <meta name="description" content="达摩院文档平台">
    <link rel="shortcut icon" type="image/x-icon" href="/docs/favicon.ico">
  <link rel="manifest" href="/docs/manifest.json">
    
    <link rel="preload" href="/docs/assets/css/0.styles.6c8b8b62.css" as="style"><link rel="preload" href="/docs/assets/js/app.e8565908.js" as="script"><link rel="preload" href="/docs/assets/js/2.ea6f4c8a.js" as="script"><link rel="preload" href="/docs/assets/js/7.87b0d417.js" as="script"><link rel="preload" href="/docs/assets/js/10.db22997a.js" as="script"><link rel="prefetch" href="/docs/assets/js/11.33a79cb9.js"><link rel="prefetch" href="/docs/assets/js/12.b2585dd3.js"><link rel="prefetch" href="/docs/assets/js/13.0f14f677.js"><link rel="prefetch" href="/docs/assets/js/14.c18e8692.js"><link rel="prefetch" href="/docs/assets/js/15.7ac2b6b7.js"><link rel="prefetch" href="/docs/assets/js/16.e2ed7028.js"><link rel="prefetch" href="/docs/assets/js/17.4d352f72.js"><link rel="prefetch" href="/docs/assets/js/18.0b05798c.js"><link rel="prefetch" href="/docs/assets/js/19.12bcb7eb.js"><link rel="prefetch" href="/docs/assets/js/20.a5ab4cc3.js"><link rel="prefetch" href="/docs/assets/js/21.82a5be90.js"><link rel="prefetch" href="/docs/assets/js/3.46dfeb0e.js"><link rel="prefetch" href="/docs/assets/js/4.2a96f785.js"><link rel="prefetch" href="/docs/assets/js/5.be2a6a64.js"><link rel="prefetch" href="/docs/assets/js/6.11129e5b.js"><link rel="prefetch" href="/docs/assets/js/8.2ecf3898.js"><link rel="prefetch" href="/docs/assets/js/9.bf7d54e7.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.6c8b8b62.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/" class="home-link router-link-active"><!----> <span class="site-name">Damo</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/docs/platform/" class="nav-link">跨端</a></div><div class="nav-item"><a href="/docs/server/" class="nav-link router-link-exact-active router-link-active">服务端</a></div><div class="nav-item"><a href="/docs/framework/" class="nav-link">框架</a></div><div class="nav-item"><a href="/docs/render/" class="nav-link">渲染</a></div><div class="nav-item"><a href="/docs/media/" class="nav-link">互动媒体</a></div> <a href="https://github.com/Damo-web/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
      GitHub
      <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/docs/platform/" class="nav-link">跨端</a></div><div class="nav-item"><a href="/docs/server/" class="nav-link router-link-exact-active router-link-active">服务端</a></div><div class="nav-item"><a href="/docs/framework/" class="nav-link">框架</a></div><div class="nav-item"><a href="/docs/render/" class="nav-link">渲染</a></div><div class="nav-item"><a href="/docs/media/" class="nav-link">互动媒体</a></div> <a href="https://github.com/Damo-web/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
      GitHub
      <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>文章列表</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/docs/server/" class="active sidebar-link">阿里云ECS</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/server/#云服务" class="sidebar-link">云服务</a></li><li class="sidebar-sub-header"><a href="/docs/server/#阿里云ecs-2" class="sidebar-link">阿里云ECS</a></li><li class="sidebar-sub-header"><a href="/docs/server/#node-环境配置" class="sidebar-link">Node 环境配置</a></li><li class="sidebar-sub-header"><a href="/docs/server/#参考链接" class="sidebar-link">参考链接</a></li></ul></li><li><a href="/docs/server/debugger.html" class="sidebar-link">Node Debug</a></li></ul></div></li></ul> </div> <div class="page"> <div class="content default"><h1 id="阿里云ecs"><a href="#阿里云ecs" aria-hidden="true" class="header-anchor">#</a> 阿里云ECS</h1> <blockquote><p>本文为阿里云ECS搭建指引，包含阿里云ECS实例启动、登录及node环境配置过程。</p></blockquote> <h2 id="云服务"><a href="#云服务" aria-hidden="true" class="header-anchor">#</a> 云服务</h2> <p>在阿里云ECS搭建之前，需要对云服务有个大致的了解。</p> <p>云服务，通常指云计算服务，是一种基于互联网的计算方式，通过这种方式，共享的软硬件资源和信息可以按需求提供给计算机各种终端和其他设备，使用户能够方便、有效地共享和利用开放网络上的资源。</p> <p>按服务模式，云服务主要分为三种：</p> <ol><li>基础设施即服务（IaaS:Infrastructure-as-a-Service）：消费者使用“基础计算资源”，如处理能力、存储空间、网络组件或中间件。<strong>消费者能掌控操作系统、存储空间、已部署的应用程序及网络组件（如防火墙、负载平衡器等），但并不掌控云基础架构</strong>。例如：Amazon EC2（ Elastic Cloud ）、Amazon S3（ Simple Storage Service ）、Aliyun ECS（ Elastic Cloud Service ）、Aliyun OSS（ Object Storage Service）</li></ol> <p><img src="/docs/assets/img/cloud-computing-models_iaas.a61da8cd.png" alt=""></p> <ol start="2"><li>平台即服务（PaaS:Platform-as-a-Service）：消费者使用主机操作应用程序。<strong>消费者掌控运作应用程序的环境（也拥有主机部分掌控权），但并不掌控操作系统、硬件或运作的网络基础架构</strong>。平台通常是应用程序基础架构。例如：AWS RDS（Relational-Database-Service） 、AWS Elastic Beanstalk 、Google App Engine。</li></ol> <p><img src="/docs/assets/img/cloud-computing-models_paas.f262885b.png" alt=""></p> <ol start="3"><li>软件即服务（SaaS:Software-as-a-Service）：<strong>消费者使用应用程序，但并不掌控操作系统、硬件或运作的网络基础架构</strong>。是一种服务观念的基础，软件服务供应商，以租赁的概念提供客户服务，而非购买，比较常见的模式是提供一组账号密码。例如：Google Gmail 、Google+ App 、Microsoft CRM。</li></ol> <p><img src="/docs/assets/img/cloud-computing-models_saas.5cb46f09.png" alt=""></p> <p>以微信小程序开发为例，可做如下类比：</p> <ol><li><p>IaaS 服务于软件架构者，类似<strong>微信服务器、开发者服务器等基础计算资源</strong></p></li> <li><p>PaaS 服务于软件开发者，类似<strong>微信公众平台、微信开发者工具等开发工具</strong></p></li> <li><p>SaaS 服务于软件消费者，类似<strong>腾讯视频、美团外卖等小程序</strong></p></li></ol> <p>随着云服务市场的开拓，Saas 与 Paas 的界限逐渐打破并融合，衍生出以下服务模式：</p> <ul><li><p>Baas（Backend-as-a-Service）： 后端即服务，主要提供后端中间件服务，如数据库存储、消息队列、监控服务等。</p></li> <li><p>Industry Solutions： 行业解决方案，主要提供垂直领域的技术服务，如机器学习、区域链、短视频、直播、电商等。</p></li></ul> <h2 id="阿里云ecs-2"><a href="#阿里云ecs-2" aria-hidden="true" class="header-anchor">#</a> 阿里云ECS</h2> <p>阿里云ECS的搭建及登录，一般遵循下述步骤：</p> <ol><li>注册阿里云账号，购买ECS实例后，可点击<strong>云服务器 ECS</strong>进入到管理页面。</li></ol> <p><img src="/docs/assets/img/cloud_1.c43701eb.png" alt=""></p> <ol start="2"><li>点击<strong>我的资源</strong>下的云服务器，可进入到<strong>实例列表</strong>页面，控制及配置相应的ECS实例</li></ol> <p><img src="/docs/assets/img/cloud_2.73ab0d72.png" alt=""></p> <ol start="3"><li>启动ECS服务器之后，可通过命令行来连接阿里云服务器（以 Mac 为例）：</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code>Last login: Fri Mar  8 14:52:01 on ttys008

<span class="token comment"># 连接ECS服务器公网IP地址（下方仅为示例IP）</span>

bash-3.2<span class="token comment"># ssh 42.106.124.156</span>

<span class="token comment"># 输入设置的ECS服务器密码（忘记密码可通过重置密码并重启实例来生效）</span>

root@42.106.124.156's password: 

<span class="token comment"># 下方为阿里云服务器登录成功反馈</span>

Last login: Sat Nov 10 15:10:20 2018 from 121.253.121.32

Welcome to Alibaba Cloud Elastic Compute Service <span class="token operator">!</span>

<span class="token comment"># 登出阿里云服务器</span>

<span class="token punctuation">[</span>root@snowball ~<span class="token punctuation">]</span><span class="token comment"># exit</span>
登出
Connection to 42.106.124.156 closed.

</code></pre></div><h2 id="node-环境配置"><a href="#node-环境配置" aria-hidden="true" class="header-anchor">#</a> Node 环境配置</h2> <p>Node 的环境配置方式有如下两种：</p> <ul><li>通过<a href="https://nodejs.org/en/" target="_blank" rel="noopener noreferrer"> Node官网 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>安装</li></ul> <p><img src="/docs/assets/img/cloud_3.e1af994a.png" alt=""></p> <div class="tip custom-block"><p class="custom-block-title">提示</p> <p>从图中可看出，Node分为 LTS 和 Current 两个版本：LTS是 Long-Term-Support -Support 的简写，此版本会得到官方团队的长期维护；Current 是当前最新的版本，可体验Node的新特性。</p> <p>通常来说，<strong>LTS 版本更加稳定，适用于生产环境；Current 版本能够体验 Node 的新特性，但可能含有部分风险，适用于开发环境</strong>。</p></div> <ul><li>通过<a href="https://github.com/creationix/nvm" target="_blank" rel="noopener noreferrer"> NVM（Node Version Manager）<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 安装</li></ul> <p>官方 NVM 安装过程如下：</p> <ol><li>安装并更新 nvm</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code>
<span class="token function">curl</span> -o- https://raw.githubusercontent.com/creationix/nvm/v0.34.0/install.sh <span class="token operator">|</span> <span class="token function">bash</span>

</code></pre></div><ol start="2"><li>加入 nvm 至环境变量</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># nvm安装后，截取如下信息，重开命令行执行</span>

<span class="token comment"># Close and reopen your terminal to start using nvm or run the following to use it now:</span>

<span class="token comment"># This loads nvm</span>

<span class="token function">export</span> NVM_DIR<span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$HOME</span>/.nvm&quot;</span>
<span class="token punctuation">[</span> -s <span class="token string">&quot;<span class="token variable">$NVM_DIR</span>/nvm.sh&quot;</span> <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> \. <span class="token string">&quot;<span class="token variable">$NVM_DIR</span>/nvm.sh&quot;</span>

<span class="token comment"># This loads nvm bash_completion</span>

<span class="token punctuation">[</span> -s <span class="token string">&quot;<span class="token variable">$NVM_DIR</span>/bash_completion&quot;</span> <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> \. <span class="token string">&quot;<span class="token variable">$NVM_DIR</span>/bash_completion&quot;</span> 

</code></pre></div><ol start="3"><li>安装并默认 node 版本</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code>
<span class="token comment">#查看远端 node 列表并安装</span>

nvm ls-remote

nvm <span class="token function">install</span> v11.0.0

<span class="token comment"># linux下不指定默认nodejs会导致系统重启后node及npm环境丢失</span>
<span class="token comment"># 安装node后可以使用nvm alias指定默认nodejs版本</span>

nvm <span class="token function">alias</span> default v11.0.0

default -<span class="token operator">&gt;</span> v11.11.0

<span class="token comment"># 查看nvm现使用的 node 版本</span>

nvm current

</code></pre></div><ol start="4"><li>切换 node 版本</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code>
<span class="token comment"># 查看 nvm 的 node 列表</span>

<span class="token punctuation">[</span>root@snowball ~<span class="token punctuation">]</span> nvm <span class="token function">ls</span>
       v10.13.0
-<span class="token operator">&gt;</span>     v11.0.0
default -<span class="token operator">&gt;</span> v11.0.0
stable -<span class="token operator">&gt;</span> 11.0 <span class="token punctuation">(</span>-<span class="token operator">&gt;</span> v11.0.0<span class="token punctuation">)</span> <span class="token punctuation">(</span>default<span class="token punctuation">)</span>
unstable -<span class="token operator">&gt;</span> 11.0 <span class="token punctuation">(</span>-<span class="token operator">&gt;</span> v11.0.0<span class="token punctuation">)</span> <span class="token punctuation">(</span>default<span class="token punctuation">)</span>

<span class="token comment"># 使用特定的 node 版本</span>

<span class="token punctuation">[</span>root@snowball ~<span class="token punctuation">]</span> nvm use v10.13.0

Now using node v10.13.0

</code></pre></div><ol start="5"><li>卸载 nvm</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code>
<span class="token comment"># 卸载nvm</span>
<span class="token comment"># $NVM_DIR 通常为 ~/.nvm</span>

<span class="token function">sudo</span> <span class="token function">rm</span> -rf <span class="token variable">$NVM_DIR</span> ~/.npm ~/.bower

</code></pre></div><div class="tip custom-block"><p class="custom-block-title">提示</p> <p><strong>因版本升级和切换的方便性，推荐使用 nvm 来安装 node</strong>。需要注意的是，nvm需要指定默认的 node 版本号，不然阿里云服务器重启和登录时，会丢失 node 运行环境。</p></div> <h2 id="参考链接"><a href="#参考链接" aria-hidden="true" class="header-anchor">#</a> 参考链接</h2> <ul><li><p><a href="https://zh.wikipedia.org/wiki/%E9%9B%B2%E7%AB%AF%E9%81%8B%E7%AE%97" target="_blank" rel="noopener noreferrer">云计算<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="https://aws.amazon.com/cn/what-is-cloud-computing/" target="_blank" rel="noopener noreferrer">什么是云计算？<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="https://help.aliyun.com/document_detail/25429.html?spm=5176.2020520101.105.d25429.b3c94df5oJB49A" target="_blank" rel="noopener noreferrer"> ECS控制台操作指南 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="https://github.com/nodejs/Release" target="_blank" rel="noopener noreferrer">Node.js Foundation Release Working Group<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="https://github.com/creationix/nvm" target="_blank" rel="noopener noreferrer">Node Version Manager<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="https://github.com/creationix/nvm/issues/298" target="_blank" rel="noopener noreferrer">How to uninstall nvm<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li></ul></div> <!----> <!----> </div></div><div class="global-ui"><!----><!----></div></div>
    <script src="/docs/assets/js/app.e8565908.js" defer></script><script src="/docs/assets/js/2.ea6f4c8a.js" defer></script><script src="/docs/assets/js/7.87b0d417.js" defer></script><script src="/docs/assets/js/10.db22997a.js" defer></script>
  </body>
</html>
